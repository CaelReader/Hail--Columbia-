#Western Purchase
#Adapted from NFM

usfp_western_purchase_button = {
	name = "usfp_western_purchase_button"
	desc = "usfp_western_purchase_button_desc"

	visible = {
		exists = c:MEX
		c:MEX = {
			any_scope_state = {
				OR = {
					state_region = s:STATE_CALIFORNIA
					state_region = s:STATE_ARIZONA
					state_region = s:STATE_UTAH
					state_region = s:STATE_NEW_MEXICO
					state_region = s:STATE_NEVADA
					state_region = s:STATE_COLORADO
				}
				
			}
		}
	}

	possible = {
		var:manifest_destiny_var > 2
		NOT = {
			has_variable = usa_western_purchase_var
		}
		in_default = no
		taking_loans = no
		is_diplomatic_play_committed_participant = no
 		is_at_war = no
		c:MEX = {
			is_diplomatic_play_committed_participant = no
			is_at_war = no
		} 
	}

	effect = {
		set_variable = {
			name = usa_western_purchase_var
			years = 4
		}
		c:MEX = {
			trigger_event = {
				id = usfp_manifest_destiny.3
				days = 7
			}
		}
	}

	ai_chance = {
		base = 0	
		modifier = {
			trigger = {
				owns_entire_state_region = STATE_WASHINGTON
			}
			add = 10
		}	
		modifier = {
			trigger = { gold_reserves > 3000000 }
			add = 10
		}		
		modifier = {
			trigger = { 
				gold_reserves > 0
				weekly_net_fixed_income > 100000
			}
			add = 10
		}
		modifier = {
			trigger = {
				OR = {
					is_diplomatic_play_committed_participant = yes
					is_at_war = yes
				}
			}
			add = -1000
		}
		modifier = {
			trigger = { 
				ruler = {has_ideology = ideology:ideology_jingoist_leader}
			}
			add = -100
		}
		modifier = {
			trigger = { 
				ruler = {has_ideology = ideology:ideology_pacifist}
			}
			add = 100
		}
	}
}

usfp_promote_manifest_destiny_button = {

	name = "usfp_promote_manifest_destiny_button"
	desc = "usfp_promote_manifest_destiny_button_desc"

	visible = {
		NOT = {
			has_variable = promoted_manifest_destiny_var
		}
		var:manifest_destiny_var < 6
	}

	possible = {
		ruler = {
			usfp_manifest_destiny_anti_expansion_trigger = no
		}
	}

	effect = {
		set_variable = promoted_manifest_destiny_var
		usfp_manifest_more_destiny_effect = yes
		add_radicals = {
			value = medium_radicals
			interest_group = ig:ig_industrialists
		}
		add_radicals = {
			value = medium_radicals
			interest_group = ig:ig_petty_bourgeoisie
		}
		add_modifier = {
			name = usfp_vanishing_indian_modifier
			years = 10
		}
	}

	ai_chance = {
		base = 0
	}
}

usfp_suppress_manifest_destiny_button = {

	name = "usfp_suppress_manifest_destiny_button"
	desc = "usfp_suppress_manifest_destiny_button_desc"

	visible = {
		NOT = {
			has_variable = suppressed_manifest_destiny_var
		}
		var:manifest_destiny_var > 2
	}

	possible = {
		ruler = {
			usfp_manifest_destiny_pro_expansion_trigger = no
		}
	}

	effect = {
		set_variable = suppressed_manifest_destiny_var
		usfp_manifest_less_destiny_effect = yes
		add_radicals = {
			value = medium_radicals
			interest_group = ig:ig_rural_folk
		}
		add_radicals = {
			value = medium_radicals
			interest_group = ig:ig_landowners
		}
	}

	ai_chance = {
		base = 0
	}
}