usfp_promote_afro_american_migration_africa = {
	name = "usfp_promote_afro_american_migration_africa"
	desc = "usfp_promote_afro_american_migration_africa_desc"
	visible = {
		usfp_is_afro_american_discriminated = yes
		OR = {
			c:LIB ?= {
				is_subject_of = root
			}
			any_scope_state = {
				state_is_in_africa = yes
				NOT = {
					state_region = s:STATE_SINAI
				}
			}
		}
	}

	possible = {
		OR = {
			c:LIB ?= {
				is_subject_of = root
			}
			any_scope_state = {
				state_is_in_africa = yes
				NOT = {
					state_region = s:STATE_SINAI
				}
				free_arable_land > 0
			}
		}
		any_scope_state = {
			state_is_in_north_america = yes
			culture_percent_state = {
				target = cu:afro_american
				value > 0.15
			}
		}
		institution_investment_level = {
			institution = institution_colonial_affairs
			value >= 2
		}
		is_at_war = no
	}

	cooldown = {
		years = 3
	}

	effect = {
		add_treasury = -100000
		if = {
			limit = { 
				any_scope_state = {
					state_is_in_africa = yes
					NOT = {
						state_region = s:STATE_SINAI
					}
					free_arable_land > 0
				}
			}
			ordered_scope_state = {
				limit = {
					state_is_in_africa = yes
					NOT = {
						state_region = s:STATE_SINAI
					}
					free_arable_land > 0
				}
				order_by = free_arable_land
				save_scope_as = afro_american_colonization_target_state
			}
		}
		else = {
			c:LIB ?= {
				capital = {
					save_scope_as = afro_american_colonization_target_state
				}
			}
		}
		usfp_afro_american_colonization_effect = yes
		add_radicals = {
			value = small_radicals
			culture = cu:afro_american
		}
		ig:ig_petty_bourgeoisie = {
			add_modifier = {
				name = usfp_promoted_afro_american_colonization
				years = 3
			}
		}
	}
	
	ai_chance = {
		value = 0
		if = {
			limit = {
				c:LIB ?= {
					is_player = yes
				}
			}
			add = 20
		}
	}
}

usfp_promote_afro_american_migration_south_america = {
	name = "usfp_promote_afro_american_migration_south_america"
	desc = "usfp_promote_afro_american_migration_south_america_desc"
	visible = {
		usfp_is_afro_american_discriminated = yes
		OR = {
			any_scope_state = {
				OR = {
					region = sr:region_central_america
					region = sr:region_caribbean
					state_is_in_south_america = yes
				}
				free_arable_land > 0
			}
			market = {
				any_scope_country = {
					relations:root >= relations_threshold:cordial
					any_scope_state = {
						OR = {
							region = sr:region_central_america
							region = sr:region_caribbean
							state_is_in_south_america = yes
						}
						free_arable_land > 0
					}
				}
			}
		}
	}

	possible = {
		OR = {
			any_scope_state = {
				OR = {
					region = sr:region_central_america
					region = sr:region_caribbean
					state_is_in_south_america = yes
				}
				free_arable_land > 0
			}
			market = {
				any_scope_country = {
					custom_tooltip = country_in_root_market
					relations:root >= relations_threshold:cordial
					any_scope_state = {
						OR = {
							region = sr:region_central_america
							region = sr:region_caribbean
							state_is_in_south_america = yes
						}
						free_arable_land > 0
					}
				}
				
			}
		}
		any_scope_state = {
			state_is_in_north_america = yes
			culture_percent_state = {
				target = cu:afro_american
				value > 0.15
			}
		}
		institution_investment_level = {
			institution = institution_colonial_affairs
			value >= 2
		}
		is_at_war = no
	}
	cooldown = {
		years = 3
	}

	effect = {
		add_treasury = -100000
		if = {
			limit = {
				exists = c:usfp_LNC
				c:usfp_LNC = {
					is_subject_of = root
				}
			 }
			 c:usfp_LNC = {
				capital = {
					save_scope_as = afro_american_colonization_target_state
				}
			 }
		}
		else_if = {
			limit = { 
				any_scope_state = {
					OR = {
						region = sr:region_central_america
						region = sr:region_caribbean
						state_is_in_south_america = yes
					}
					free_arable_land > 0
				}
			}
			ordered_scope_state = {
				limit = {
					OR = {
						region = sr:region_central_america
						region = sr:region_caribbean
						state_is_in_south_america = yes
					}
					free_arable_land > 0
				}
				order_by = free_arable_land
				save_scope_as = afro_american_colonization_target_state
			}
		}
		else = {
			market = {
				random_scope_country = {
					limit = {
						relations:root >= relations_threshold:cordial
						any_scope_state = {
							OR = {
								region = sr:region_central_america
								region = sr:region_caribbean
								state_is_in_south_america = yes
							}
							free_arable_land > 0
						}
					}
					ordered_scope_state = {
						limit = {
							OR = {
								region = sr:region_central_america
								region = sr:region_caribbean
								state_is_in_south_america = yes
							}
							free_arable_land > 0
						}
						order_by = free_arable_land
						save_scope_as = afro_american_colonization_target_state
					}
				}
			}
		}
		usfp_afro_american_colonization_effect = yes
		add_radicals = {
			value = small_radicals
			culture = cu:afro_american
		}
		ig:ig_petty_bourgeoisie = {
			add_modifier = {
				name = usfp_promoted_afro_american_colonization
				years = 3
			}
		}
	}
	
	ai_chance = {
		value = 0
	}
}

usfp_linconia_button = {
	name = "usfp_linconia_button"
	desc = "usfp_linconia_button_desc"

	visible = {
		has_variable = linconia_opportunity
		NOT = {
			has_variable = pursued_linconia
		}
		NOT = {
			exists = c:usfp_LNC
		}
	}

	possible = {
		is_diplomatic_play_committed_participant = no
		taking_loans = no
		OR = {
			any_country = {
				filter = {
					any_scope_state = {
						region = sr:region_central_america
					}
					OR = {
						country_has_primary_culture = cu:central_american
						has_state_in_state_region = STATE_PANAMA
					}
				}
				percent = 1
				relations:root >= relations_threshold:friendly
				is_diplomatic_play_committed_participant = no
			}
			owns_entire_state_region = STATE_PANAMA
			any_subject_or_below = {
				market.owner = root
				owns_entire_state_region = STATE_PANAMA
			}
		}
		s:STATE_PANAMA = {
			any_scope_state = {
				owner = {
					is_subject = no
				}
				count = all
			}
		}
	}

	effect = {
		set_variable = pursued_linconia
		save_scope_as = usa_scope
		add_radicals = {
			value = small_radicals
			culture = cu:afro_american
		}
		ig:ig_petty_bourgeoisie = {
			add_modifier = {
				name = usfp_promoted_afro_american_colonization
				years = 3
			}
		}
		every_country = {
			limit = {
				any_scope_state = {
					region = sr:region_central_america
				}
				OR = {
					country_has_primary_culture = cu:central_american
					has_state_in_state_region = STATE_PANAMA
				}
				NOT = {
					this = root
				}
			}
			change_relations = {
				country = root
				value = -25
			}
		}
		if = {
			limit = {
				OR = {
					owns_entire_state_region = STATE_PANAMA
					any_subject_or_below = {
						market.owner = root
						owns_entire_state_region = STATE_PANAMA
					}
				}
			 }
			 add_treasury = -100000
			 usfp_create_linconia_effect = yes
		}
		else = {
			s:STATE_PANAMA = {
				ordered_scope_state = {
					order_by = state_population
					owner = {
						trigger_event = {
							id = usfp_usa_colonization.3
							days = 20
						}
					}
				}
			}
		}
	}

	ai_chance = {
		value = 0
	}
}