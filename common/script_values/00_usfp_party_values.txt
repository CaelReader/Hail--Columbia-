### USFP weights ###
### Liberal Party ###
usfp_party_weight_liberal_add = {
		if = {
			limit = {
				is_usfp_active = yes
				owner = {
					usfp_country_is_american = yes
					OR = {
						NOT = {
							has_law = law_type:law_slavery_banned
						}
						has_journal_entry = je_acw_countdown
					}
				}
				OR = {
					leader = {
						culture = cu:yankee
					}
					is_interest_group_type = ig_petty_bourgeoisie
				}
			}
			add = {
				value = 5
				desc = "from_northern_interests"
			}
		}
		if = {
			limit = {
				is_usfp_active = yes
				owner = {
					usfp_country_is_american = yes
					OR = {
						NOT = {
							has_law = law_type:law_slavery_banned
						}
						has_journal_entry = je_acw_countdown
					}
				}
				OR = {
					leader = {
						culture = cu:dixie
					}
					is_interest_group_type = ig_landowners
				}
			}
			add = {
				value = -5
				desc = "from_southern_interests"
			}
		}
		if = {
			limit = {
				is_usfp_active = yes
				owner = {
					country_is_in_north_america = yes
					usfp_country_is_american = yes
					has_law = law_type:law_presidential_republic
				}
			}
			if = {
				limit = {
					leader = {
						NOR = {
							has_reactionary_ideology = yes
							has_conservative_ideology = yes
							has_socialist_ideology = yes
						}
					}
				}
				add = {
					value = 3
					desc = "usa_two_party_system"
				}
			}
			# if = { # If Free Trade Party is the Republicans, but the Industrialists Aren't in it, it's time to JUMP SHIP!
			# 	limit = {
			# 		exists = owner.py:free_trade_party
			# 		owner = {
			# 			ig:ig_industrialists = {
			# 				NOT = { is_member_of_party = owner.py:free_trade_party }
			# 			}
			# 		}
			# 	}
			# 	add = {
			# 		value = 100
			# 		desc = "industrialists_missing"
			# 	}
			# }
			#USFP: American IGs should prefer to join a party even if its not their preferred
			if = {
				limit = {
					has_party = no
					exists = owner.py:liberal_party
				}
				add = {
					value = 20
					desc = "join_existing_party"
				}
			}
			#USFP: Intelligentsia should ALWAYS join the Whigs/Republicans
			if = {
				limit = {
					is_interest_group_type = ig_intelligentsia
				}
				add  = {
					value = 100
					desc = "from_archetype_party"
				}
			}
			#PB are natural whigs/republicans too
			if = {
				limit = {
					is_interest_group_type = ig_petty_bourgeoisie
				}
				add  = {
					value = 40
					desc = "from_archetype_party"
				}
			}
		}
}

###Conservative Party
usfp_party_weight_conservative_add = {
		#USFP: Ensure Democratic Party endures
		if = {
			limit = {
				is_usfp_active = yes
				has_ideology = ideology:ideology_pro_slavery
			}
			add = {
				value = 1000
				desc = "from_southern_interests"
			}
		}
		#USFP: Bourbon Democrats
		#LF Industrialists might switch to the Democratic party post civil war
		if = {
			limit = {
				is_usfp_active = yes
				owner = {
					OR = {
						country_has_primary_culture = cu:yankee
						usfp_has_american_primary_culture = yes
					}
					ig:ig_landowners = {
						NOT = {
							has_ideology = ideology:ideology_pro_slavery
						}
					}
				}
				is_interest_group_type = ig_industrialists
				law_stance = {
					law = law_type:law_free_trade
					value >= approve
				}
			}
			add = {
				value = 75
				desc = "usfp_bourbon_democrats"
			}
		}
		#USFP: American IGs should prefer to join an existing party even if its not their preferred
		if = {
			limit = {
				owner = {usfp_country_is_american = yes}
				has_party = no
				exists = owner.py:conservative_party
			}
			add = {
				value = 20
				desc = "join_existing_party"
			}
		}

		if = {
			limit = {
				is_usfp_active = yes
				owner = {
					usfp_country_is_american = yes
					OR = {
						NOT = {
							has_law = law_type:law_slavery_banned
						}
						has_journal_entry = je_acw_countdown
					}
				}
				OR = {
					leader = {
						culture = cu:yankee
					}
					is_interest_group_type = ig_petty_bourgeoisie
				}
			}
			add = {
				value = -15
				desc = "from_northern_interests"
			}
		}
		if = {
			limit = {
				is_usfp_active = yes
				owner = {
					usfp_country_is_american = yes
					OR = {
						NOT = {
							has_law = law_type:law_slavery_banned
						}
						has_journal_entry = je_acw_countdown
					}
				}
				OR = {
					leader = {
						culture = cu:dixie
					}
					is_interest_group_type = ig_landowners
				}
			}
			add = {
				value = 5
				desc = "from_southern_interests"
			}
		}
		#USFP: Intelligentsia should NEVER join the Democrats
		if = {
			limit = {
				is_usfp_active = yes
				owner = {
					usfp_country_is_american = yes
				}
				is_interest_group_type = ig_intelligentsia
			}
			add = {
				value = -100
				desc = "from_northern_interests"
			}
		}
}

usfp_party_weight_free_trade_add = {
	#USFP Two-Party System Handling
		if = {
			limit = {
				is_usfp_active = yes
				owner = {
					country_is_in_north_america = yes
					usfp_country_is_american = yes
					has_law = law_type:law_presidential_republic
				}
			}
			if = { # If IT+Whig Party is around, business as usual
				limit = {
					OR = {
						AND = {
							exists = owner.py:liberal_party
							owner = {
								ig:ig_intelligentsia = {
									is_member_of_party = owner.py:liberal_party
								}
							}
						}
						year < 1837
					}
				}
				add = {
					value = -20
					desc = "usa_two_party_system"
				}
			}
			else = { # otherwise...
				if = { # whig leaders will like orange party more
					limit = {
						leader = {
							NOR = {
								has_reactionary_ideology = yes
								has_conservative_ideology = yes
								has_socialist_ideology = yes
							}
						}
					}
					add = {
						value = 20
						desc = "usa_two_party_system"
					}
				}
				if = { # ID-PB alliance with dethroned IT in toe
					limit = {
						OR = {
							is_interest_group_type = ig_industrialists
							is_interest_group_type = ig_petty_bourgeoisie
							is_interest_group_type = ig_intelligentsia
						}
						leader = {
							has_socialist_ideology = no
						}
					}
					add = {
						value = 20
						desc = "usa_two_party_system"
					}
				}
				if = { # pro-abolitionist
					limit = { leader = { has_ideology = ideology:ideology_slaver } }
					add = {
						value = -100
						desc = "from_slaver_leader"
					}					
				}	
				else_if = {
					limit = { leader = { character_is_anti_slavery = yes } }
					add = {
						value = 100
						desc = "from_abolitionist_leader"
					}					
				}
			}
		}
	#USFP: Bourbon Democrats
	#LF Industrialists might switch to the Democratic party post civil war
	if = {
		limit = {
			is_usfp_active = yes
			owner = {
				OR = {
					exists = py:conservative_party
					exists = py:agrarian_party
				}
				OR = {
					country_has_primary_culture = cu:yankee
					usfp_has_american_primary_culture = yes
				}
				ig:ig_landowners = {
					NOT = {
						has_ideology = ideology:ideology_pro_slavery
					}
				}
			}
			is_interest_group_type = ig_industrialists
			law_stance = {
				law = law_type:law_free_trade
				value >= approve
			}
		}
		add = {
			value = -75
			desc = "usfp_bourbon_democrats"
		}
	}
	if = { # USFP: Progressives shouldn't join the Free Trade Party (if the Industrialists are in it)
			limit = {
				is_usfp_active = yes
				leader = {
					has_ideology = ideology:ideology_usfp_progressive
				}
				owner = {
					ig:ig_industrialists = {
						has_party = yes
						party = owner.py:free_trade_party
					}
				}
			}
			add = {
				value = -50
				desc = from_progressive_leader
			}
		}
					#USFP: American IGs should prefer to join a party even if its not their preferred
				if = {
					limit = {
						has_party = no
						exists = owner.py:free_trade_party
					}
					add = {
						value = 20
						desc = "join_existing_party"
					}
				}
}

usfp_party_weight_agrarian_add = {
		#USFP: Bourbon Democrats
		#LF Industrialists might switch to the Democratic party post civil war
		if = {
			limit = {
				is_usfp_active = yes
				owner = {
					NOT = {
						exists = py:conservative_party
					}
					OR = {
						country_has_primary_culture = cu:yankee
						usfp_has_american_primary_culture = yes
					}
					ig:ig_landowners = {
						NOT = {
							has_ideology = ideology:ideology_pro_slavery
						}
					}
				}
				is_interest_group_type = ig_industrialists
				law_stance = {
					law = law_type:law_free_trade
					value >= approve
				}
			}
			add = {
				value = 75
				desc = "usfp_bourbon_democrats"
			}
		}
		#USFP: American IGs should prefer to join an existing party even if its not their preferred
		if = {
			limit = {
				is_usfp_active = yes
				owner = {usfp_country_is_american = yes}
				has_party = no
				exists = owner.py:agrarian_party
			}
			add = {
				value = 20
				desc = "join_existing_party"
			}
		}
		#USFP: Two Party System Handling
		if = {
			limit = {
				is_usfp_active = yes
				owner = {
					country_is_in_north_america = yes
					usfp_country_is_american = yes
					has_law = law_type:law_presidential_republic
				}
			}
			if = { # If LO+Democratic Party is around, business as usual
				limit = {
					OR = {
						AND = {
							exists = owner.py:conservative_party
							owner = {
								ig:ig_landowners = {
									is_member_of_party = owner.py:conservative_party
								}
							}
						}
						year < 1837
					}
				}
				add = {
					value = -20
					desc = "usa_two_party_system"
				}
			}
			else = { # otherwise...
				if = { # non-whig leaders will like green party more
					limit = {
						leader = {
							OR = {
								has_reactionary_ideology = yes
								has_conservative_ideology = yes
							}
							has_socialist_ideology = no #USFP
						}
					}
					add = {
						value = 20
						desc = "usa_two_party_system"
					}
				}
				if = { # RF-TU alliance with dethroned LO in toe
					limit = {
						OR = {
							is_interest_group_type = ig_rural_folk
							is_interest_group_type = ig_trade_unions
							is_interest_group_type = ig_landowners
						}
						leader = {
							has_socialist_ideology = no #USFP
						}
					}
					add = {
						value = 20
						desc = "usa_two_party_system"
					}
				}
				if = { #pro-slaver
					limit = { 
						leader = { has_ideology = ideology:ideology_slaver }
						NOT = {
							owner = { has_law = law_type:law_slavery_banned }
						} 
					}
					add = {
						value = 100
						desc = "from_slaver_leader"
					}					
				}	
				else_if = {
					limit = { 
						leader = { character_is_anti_slavery = yes }
						NOT = {
							owner = { has_law = law_type:law_slavery_banned }
						}  
					}
					add = {
						value = -100
						desc = "from_abolitionist_leader"
					}					
				}
				# if = { # If DP is around but LO isn't in it, then it is time to JUMP SHIP!
				# 	limit = {
				# 		exists = owner.py:conservative_party
				# 		owner = {
				# 			ig:ig_landowners = {
				# 				NOT = { is_member_of_party = owner.py:conservative_party }
				# 			}
				# 		}
				# 	}
				# 	multiply = {
				# 		value = 100
				# 		desc = "usa_two_party_system"
				# 	}
				# }
				if = {
					limit = {
						leader = {
							has_ideology = ideology:ideology_jacksonian_democrat
						}
					}
					add = {
						value = 1000
						desc = "from_jacksonian_democrat"
					}
				}
			}
		}
}