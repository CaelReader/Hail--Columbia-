usfp_monroe_doctrine_naval_power = 1000

usfp_bleeding_kansas_get_yankee_radicals = {
    value = {
        every_scope_pop = {
            limit = {
                culture = cu:yankee
            }
            add = pop_radical_fraction
        }
    }
    divide = {
        every_scope_pop = {
            limit = {
                culture = cu:yankee
            }
            add = 1
        }
        min = 1 # DIV/0 guard
    }
	multiply = 3
}

usfp_bleeding_kansas_get_yankee_percent = {
    value = 0
	if = {
		limit = {
			culture_percent_state = {  
				target = cu:yankee
				value > 0.0
			  }
			culture_percent_state = {  
				target = cu:yankee
				value < 0.10  
			  }  
		 }
		 value = 0.10
	}
	if = {
		limit = {
			culture_percent_state = {  
				target = cu:yankee
				value >= 0.10
			  }
			  culture_percent_state = {  
				target = cu:yankee
				value < 0.20
			}      
		 }
		 value = 0.20
	}
	if = {
		limit = {
			culture_percent_state = {  
				target = cu:yankee
				value >= 0.20
			}
			culture_percent_state = {  
				target = cu:yankee
				value < 0.30
			}    
		 }
		 value = 0.30
	}
	if = {
		limit = {
			culture_percent_state = {  
				target = cu:yankee
				value >= 0.30
			}
			culture_percent_state = {  
				target = cu:yankee
				value < 0.40
			}    
		 }
		 value = 0.40
	}
	if = {
		limit = {
			culture_percent_state = {  
				target = cu:yankee
				value >= 0.40
			}
			culture_percent_state = {  
				target = cu:yankee
				value < 0.50
			}    
		 }
		 value = 0.50
	}
	if = {
		limit = {
			culture_percent_state = {  
				target = cu:yankee
				value >= 0.50
			  }
			  culture_percent_state = {  
				target = cu:yankee
				value < 0.60
			}      
		 }
		 value = 0.60
	}
	if = {
		limit = {
			culture_percent_state = {  
				target = cu:yankee
				value >= 0.60
			} 
			culture_percent_state = {  
				target = cu:yankee
				value < 0.70
			}   
		 }
		 value = 0.70
	}
	if = {
		limit = {
			culture_percent_state = {  
				target = cu:yankee
				value >= 0.70
			}
			culture_percent_state = {  
				target = cu:yankee
				value < 0.80
			}    
		 }
		 value = 0.80
	}
	if = {
		limit = {
			culture_percent_state = {  
				target = cu:yankee
				value >= 0.80
			}
			culture_percent_state = {  
				target = cu:yankee
				value < 0.90
			}    
		 }
		 value = 0.90
	}
	if = {
		limit = {
			culture_percent_state = {  
				target = cu:yankee
				value >= 0.90
			  }  
		 }
		 value = 1.00
	}
	multiply = 2
}

usfp_bleeding_kansas_get_freedmen = {
    value = {
        every_scope_pop = {
            limit = {
                culture = cu:afro_american
				NOT = {
					is_pop_type = slaves
				}
            }
            add = 0.02
        }
    }
}

usfp_bleeding_kansas_get_dixie_radicals = {
    value = {
        every_scope_pop = {
            limit = {
                culture = cu:dixie
            }
            add = pop_radical_fraction
        }
    }
    divide = {
        every_scope_pop = {
            limit = {
                culture = cu:dixie
            }
            add = 1
        }
        min = 1 # DIV/0 guard
    }
	multiply = 3
}

usfp_bleeding_kansas_get_dixie_percent = {
    value = 0
	if = {
		limit = {
			culture_percent_state = {  
				target = cu:dixie
				value > 0.0
			  }
			culture_percent_state = {  
				target = cu:dixie
				value < 0.10  
			  }  
		 }
		 value = 0.10
	}
	if = {
		limit = {
			culture_percent_state = {  
				target = cu:dixie
				value >= 0.10
			  }
			  culture_percent_state = {  
				target = cu:dixie
				value < 0.20
			}      
		 }
		 value = 0.20
	}
	if = {
		limit = {
			culture_percent_state = {  
				target = cu:dixie
				value >= 0.20
			}
			culture_percent_state = {  
				target = cu:dixie
				value < 0.30
			}    
		 }
		 value = 0.30
	}
	if = {
		limit = {
			culture_percent_state = {  
				target = cu:dixie
				value >= 0.30
			}
			culture_percent_state = {  
				target = cu:dixie
				value < 0.40
			}    
		 }
		 value = 0.40
	}
	if = {
		limit = {
			culture_percent_state = {  
				target = cu:dixie
				value >= 0.40
			}
			culture_percent_state = {  
				target = cu:dixie
				value < 0.50
			}    
		 }
		 value = 0.50
	}
	if = {
		limit = {
			culture_percent_state = {  
				target = cu:dixie
				value >= 0.50
			  }
			  culture_percent_state = {  
				target = cu:dixie
				value < 0.60
			}      
		 }
		 value = 0.60
	}
	if = {
		limit = {
			culture_percent_state = {  
				target = cu:dixie
				value >= 0.60
			} 
			culture_percent_state = {  
				target = cu:dixie
				value < 0.70
			}   
		 }
		 value = 0.70
	}
	if = {
		limit = {
			culture_percent_state = {  
				target = cu:dixie
				value >= 0.70
			}
			culture_percent_state = {  
				target = cu:dixie
				value < 0.80
			}    
		 }
		 value = 0.80
	}
	if = {
		limit = {
			culture_percent_state = {  
				target = cu:dixie
				value >= 0.80
			}
			culture_percent_state = {  
				target = cu:dixie
				value < 0.90
			}    
		 }
		 value = 0.90
	}
	if = {
		limit = {
			culture_percent_state = {  
				target = cu:dixie
				value >= 0.90
			  }  
		 }
		 value = 1.00
	}
	multiply = 2
}
usfp_bleeding_kansas_get_dixie_aristocrats = {
    value = {
        every_scope_pop = {
            limit = {
                culture = cu:dixie
				is_pop_type = aristocrats
            }
            add = 0.2
        }
    }
}

usfp_long_reconstruction_get_dixie_radicals = {
    value = {
        every_scope_pop = {
            limit = {
                culture = cu:dixie
            }
            add = pop_radical_fraction
        }
    }
    divide = {
        every_scope_pop = {
            limit = {
                culture = cu:dixie
            }
            add = 1
        }
        min = 1 # DIV/0 guard
    }
	multiply = 10
}

usfp_long_reconstruction_get_average_afro_american_acceptance = {
    value = {
        every_scope_pop = {
            limit = {
                culture = cu:afro_american
            }
            add = pop_acceptance
        }
    }
    divide = {
        every_scope_pop = {
            limit = {
                culture = cu:afro_american
            }
            add = 1
        }
        min = 1 # DIV/0 guard
    }
}

usfp_long_reconstruction_get_afro_american_popularity = {
	value = {
		every_scope_character = {
			limit = {
				culture = cu:afro_american
			}
			add = popularity
		}
	}
	divide = 10
}

usfp_long_reconstruction_get_afro_american_movement_support = {
	value = {
		every_political_movement = {
			limit = {
				culture ?= cu:afro_american
			}
			add = this.political_movement_support
		}
	}
	multiply = 100
}

usfp_long_reconstruction_get_supremacist_movement_support = {
	value = {
		every_political_movement = {
			limit = {
				is_political_movement_type = movement_cultural_majority
			}
			add = this.political_movement_support
		}
	}
	multiply = 50
}

usfp_long_reconstruction_get_neoconfederate_movement_support = {
	value = {
		every_political_movement = {
			limit = {
				is_political_movement_type = movement_usfp_neoconfederate
			}
			add = this.political_movement_support
		}
	}
	multiply = 100
}

usfp_long_reconstruction_get_fascist_movement_support = {
	value = {
		every_political_movement = {
			limit = {
				is_political_movement_type = movement_fascist
			}
			add = this.political_movement_support
		}
	}
	multiply = 100
}

usfp_long_reconstruction_get_afro_american_percent_under_jim_crow = {
	value = {
		every_scope_state = {
			limit = {
				has_modifier = usfp_jim_crow
			}
			every_scope_pop = {
				limit = {
					culture	= cu:afro_american
				}
				add = total_size
			}
		}
	}
	divide = {
		every_scope_pop = {
            limit = {
                culture = cu:afro_american
            }
            add = total_size
        }
	}
	multiply = 100

}

usfp_ai_weight_tally_pro_racism_government = {
	value = {
		value = 0
		every_scope_politician = {
			limit = {
				interest_group = {
					is_in_government = yes
				}
				usfp_character_is_pro_racism = yes
			}
			add = 25
		}
		if = {
			limit = {
				ruler = {
					usfp_character_is_pro_racism = yes
				}
			}
			add = 100
		}
	}
}

usfp_ai_weight_tally_anti_racism_government = {
	value = {
		value = 0
		every_scope_politician = {
			limit = {
				interest_group = {
					is_in_government = yes
				}
				usfp_character_is_anti_racist = yes
			}
			add = 25
		}
		if = {
			limit = {
				ruler = {
					usfp_character_is_anti_racist = yes
				}
			}
			add = 100
		}
	}
}

usfp_ai_weight_racist_antiracist_balance_of_movements = {
	value = {
		value = 0
		every_political_movement = {
			limit = {
				usfp_movement_is_racist = yes
			}
			add = political_movement_support
			add = political_movement_radicalism
		}
		every_political_movement = {
			limit = {
				OR = {
					is_political_movement_type = movement_anarchist
					is_political_movement_type = movement_cultural_minority
				}
			}
			subtract = political_movement_support
			subtract = political_movement_radicalism
		}
		multiply = 20
	}
}

usfp_ai_weight_pro_racism_option = {
	value = {
		value = 0
		add = usfp_ai_weight_tally_pro_racism_government
		add = usfp_ai_weight_racist_antiracist_balance_of_movements
	}
}

usfp_ai_weight_anti_racism_option = {
	value = {
		value = -25
		add = usfp_ai_weight_tally_anti_racism_government
		subtract = usfp_ai_weight_racist_antiracist_balance_of_movements
	}
}

usfp_get_02_percent_inflation_per_year = { #usd/gbp inflation was largely flat over the period but multiply by this to slowly raise prices
	value = 0.0002
	multiply = {
		value = year
		subtract = 1836
	}
	add = 1
	min = 1
}

usfp_usd_to_pounds = { #divide historical usd values by this
	value = 5 #roughly 5:1 exchange rate historically
}

usfp_alaska_purchase_lump_sum = {
	value = 7200000 #1867 USD
	multiply = {
		value = usfp_get_02_percent_inflation_per_year
		subtract = 0.0060 #30 years of inflation factored in
	}
	divide = usfp_usd_to_pounds
	round_to = 100000 #diplomatic purchases are not made in highly specific amounts
}

usfp_cuba_purchase_lump_sum = {
	value = 130000000 #1854 USD
	multiply = {
		value = usfp_get_02_percent_inflation_per_year
		subtract = 0.0040 #20 years of inflation factored in
	}
	divide = usfp_usd_to_pounds
	round_to = 100000 #diplomatic purchases are not made in highly specific amounts
}

usfp_greenland_purchase_lump_sum = {
	value = 2500000 #1867 USD
	multiply = {
		value = usfp_get_02_percent_inflation_per_year
		subtract = 0.0060 #30 years of inflation factored in
	}
	divide = usfp_usd_to_pounds
	round_to = 100000 #diplomatic purchases are not made in highly specific amounts
}

usfp_iceland_purchase_lump_sum = {
	value = 3000000 #1867 USD
	multiply = {
		value = usfp_get_02_percent_inflation_per_year
		subtract = 0.0060 #30 years of inflation factored in
	}
	divide = usfp_usd_to_pounds
	round_to = 100000 #diplomatic purchases are not made in highly specific amounts
}

usfp_west_indies_purchase_lump_sum = {
	value = 7500000 #1867 USD
	multiply = {
		value = usfp_get_02_percent_inflation_per_year
		subtract = 0.0060 #30 years of inflation factored in
	}
	divide = usfp_usd_to_pounds
	round_to = 100000 #diplomatic purchases are not made in highly specific amounts
}

usfp_calculate_danish_purchase_cost = {
	value = 0
	if = {
		limit = {
			has_variable = usfp_danish_purchases_greenland_desire
			usfp_danish_purchase_greenland_valid = yes
		}
		subtract = usfp_greenland_purchase_lump_sum
	}
	if = {
		limit = {
			has_variable = usfp_danish_purchases_iceland_desire
			usfp_danish_purchase_iceland_valid = yes
		}
		subtract = usfp_iceland_purchase_lump_sum
	}
	if = {
		limit = {
			has_variable = usfp_danish_purchases_west_indies_desire
			usfp_danish_purchase_west_indies_valid = yes
		}
		subtract = usfp_west_indies_purchase_lump_sum
	}
}