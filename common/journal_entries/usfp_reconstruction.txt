###### Hail, Columbia! by CaelReader ######
#Long Reconstruction, must maintain afro-american acceptance for 40 years
usfp_reconstruction_long = {
	icon = "gfx/interface/icons/invention_icons/international_diplomacy.dds"
	should_be_pinned_by_default = yes
	group = je_group_usa_american_civil_war

	scripted_progress_bar = usfp_long_reconstruction_progress_bar
	scripted_button = usfp_overturn_plessy_button

	immediate = {
		cu:afro_american = {
			save_scope_as = afro_american_culture
		}
		cu:dixie = {
			save_scope_as = dixie_culture
		}	
	}

	on_monthly_pulse = {
		random_events = {
			chance_to_happen = 10
			100 = usfp_usa_postreconstruction.2 #Plessy v Ferguson
			100 = usfp_usa_postreconstruction.3 #Wilmington Coup
			500 = usfp_usa_postreconstruction.5 #Great Migration
			100 = usfp_usa_postreconstruction.6 #Johnson-Jeffries Riots
			50 = usfp_usa_postreconstruction.8 #Generic Race Riot
			100 = usfp_usa_postreconstruction.10 #Black Wall Street spawns
			200 = usfp_usa_postreconstruction.11 #Tusla Massacre
			500 = usfp_usa_postreconstruction.13 #Silent Parade
			50 = usfp_usa_postreconstruction.16 #Radical Reconstruction: Neoconfederate Assassination
			50 = usfp_usa_postreconstruction.17 #Radical Reconstruction: Dixie Redoubt
			50 = 0
		}
		events = {
			usfp_usa_postreconstruction.4 #NAACP Founded
			usfp_usa_postreconstruction.7 #Red Summer
			usfp_usa_postreconstruction.13 #Exodusters
			usfp_usa_postreconstruction.15 #Radical Reconstruction: the Great Return
		}
	}

	complete = {
		custom_tooltip = {
			text = usfp_long_reconstruction_complete_tt
			scope:journal_entry = {
				"scripted_bar_progress(usfp_long_reconstruction_progress_bar)" >= 2200
			}
		}
	}
	on_complete = {
		add_primary_culture = cu:afro_american
		ig:ig_petty_bourgeoisie = {
			if = {
				limit = { 
					has_ideology = ideology:ideology_reactionary_segregationist
				}
				remove_ideology = ideology_reactionary_segregationist
				add_ideology = ideology_reactionary_exclusionist
			}
		}
		add_loyalists = {
			value = medium_radicals
			culture = cu:afro_american
		}
		every_scope_state = {
			limit = {
				has_modifier = usfp_jim_crow
			}
			remove_modifier = usfp_jim_crow
		}
	}

	invalid = {
		culture_percent_country = {
			target = cu:afro_american
			value = 0
		}
	}
}