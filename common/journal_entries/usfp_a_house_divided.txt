#USFP JE replacement for vanilla ACW leadup journals


#Slave Power: the strangehold of the Southern Planters
je_usfp_a_house_divided_slave_power = {
	icon = "gfx/interface/icons/event_icons/event_election.dds"

	group = je_group_historical_content

	modifiers_while_active = {
		usfp_slave_power_modifier
	}

	should_be_pinned_by_default = yes

	fail = {
		scope:journal_entry = {
			is_goal_complete = yes
		}
		ig:ig_landowners = {
			AND = {
				is_in_government = no
				is_powerful = no
				is_being_bolstered = no
			}
		}
	}

	immediate = {
		set_variable = {
			name = slave_power_var
			value = 0
		}
		ig:ig_landowners = {
			save_scope_as = landowners_ig
		}
		ideology:ideology_abolitionist = {
			save_scope_as = abolitionist_scope
		}
	}

	on_monthly_pulse = {
		effect = {
			if = {
				limit = {
					ig:ig_landowners = {
						AND = {
							is_in_government = no
							is_powerful = no
							is_being_bolstered = no
						}
					}
				}
				change_variable = {
					name = slave_power_var
					add = 1
				}
			}
		}
	}
	current_value = {
		value = root.var:slave_power_var
	}

	goal_add_value = {
		value = 60
	}
}

#Missouri Compromise
je_usfp_a_house_divided_missouri_compromise = {
	icon = "gfx/interface/icons/generic_icons/truce.dds"

	group = je_group_historical_content

	should_be_pinned_by_default = yes

	immediate = {
		s:STATE_MISSOURI.region_state:USA = {
			save_scope_as = missouri_scope
		}
	}

	fail = {
		NOT = {
			root = {
				owns_entire_state_region = STATE_MISSOURI
			}
		}
		hidden_trigger = {
			has_variable = missouri_compromise_broken_var
		}
	}
}

#Gag Rule: separate JE to be transparent with failure conditions
je_usfp_a_house_divided_gag_rule = {
	icon = "gfx/interface/icons/event_icons/event_scales.dds"

	group = je_group_historical_content

	should_be_pinned_by_default = yes

	modifiers_while_active = {
		usfp_gag_rule_modifier
	}

	status_desc = {
		first_valid = {
			triggered_desc = { 
				desc = je_usfp_a_house_divided_gag_rule_status
			}
		}
	}

	fail = {
		ig:ig_landowners = {
			is_in_government = no
		}
	}
}

#Bleeding Kansas: after the Missouri Compromise is broken
je_usfp_a_house_divided_bleeding_kansas = {
	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	group = je_group_historical_content

	should_be_pinned_by_default = yes
}

#The Border States: track and influence the loyalty of the border states in the leadup
je_usfp_a_house_divided_border_states = {
	icon = "gfx/interface/icons/generic_icons/secession_culture_ongoing.dds"

	group = je_group_historical_content

	should_be_pinned_by_default = yes

	#variables track likelyhood of state joining the CSA
	#below -1: secessionist
	#-1, 0, or 1: divided
	#above 1: loyal
	immediate = {
		#Border States
		set_variable = { name = border_states_kansas_loyalty value = 0 }
		set_variable = { name = border_states_missouri_loyalty value = 0 }
		set_variable = { name = border_states_kentucky_loyalty value = 2 }
		set_variable = { name = border_states_delaware_loyalty value = 3 }
		set_variable = { name = border_states_maryland_loyalty value = 3 }
		#Upper South
		set_variable = { name = border_states_virginia_loyalty value = -3 }
		set_variable = { name = border_states_arkansas_loyalty value = -4 }
		set_variable = { name = border_states_northcarolina_loyalty value = -4 }
		set_variable = { name = border_states_tennessee_loyalty value = -4 }
		s:STATE_MISSOURI.region_state:USA = {save_scope_as = missouri_scope}
		s:STATE_KANSAS.region_state:USA = {save_scope_as = kansas_scope}
		s:STATE_KENTUCKY.region_state:USA = {save_scope_as = kentucky_scope}
		s:STATE_DELAWARE.region_state:USA = {save_scope_as = delaware_scope}
		s:STATE_MARYLAND.region_state:USA = {save_scope_as = maryland_scope}
		s:STATE_VIRGINIA.region_state:USA = {save_scope_as = virginia_scope}
		s:STATE_NORTH_CAROLINA.region_state:USA = {save_scope_as = northcarolina_scope}
		s:STATE_TENNESSEE.region_state:USA = {save_scope_as = tennessee_scope}
		s:STATE_ARKANSAS.region_state:USA = {save_scope_as = arkansas_scope}
	}

	scripted_button = usfp_border_state_missouri_button
	scripted_button = usfp_border_state_kansas_button
	scripted_button = usfp_border_state_kentucky_button
	scripted_button = usfp_border_state_delaware_button
	scripted_button = usfp_border_state_maryland_button
	scripted_button = usfp_border_state_virginia_button
	scripted_button = usfp_border_state_arkansas_button
	scripted_button = usfp_border_state_northcarolina_button
	scripted_button = usfp_border_state_tennessee_button


}