usfp_acw_agitators_traits = {
	add_random_trait = personality
	add_experience = 2
	add_random_trait = skill
	random_list = {
		95 = {}
		5 = { add_random_trait = condition }
	}
}

usfp_native_startup = {
	effect_starting_technology_tier_4_tech = yes
	effect_native_conscription_10 = yes
	
	ig:ig_devout = {
		set_interest_group_name = ig_evangelical_church
	}
	activate_law = law_type:law_chiefdom
	activate_law = law_type:law_elder_council
	activate_law = law_type:law_traditionalism
	activate_law = law_type:law_cultural_exclusion
	activate_law = law_type:law_elected_bureaucrats
	activate_law = law_type:law_freedom_of_conscience
	activate_law = law_type:law_national_militia
	activate_law = law_type:law_legacy_slavery
	activate_law = law_type:law_women_own_property
}

usfp_remove_starting_buildings_effect = {
	if = {
		limit = { has_building = building_wheat_farm }
		remove_building = building_wheat_farm
	}
	if = {
		limit = { has_building = building_barracks }
		remove_building = building_barracks
	}
	if = {
		limit = { has_building = building_sulfur_mine }
		remove_building = building_sulfur_mine
	}
	if = {
		limit = { has_building = building_livestock_ranch  }
		remove_building = building_livestock_ranch
	}
	if = {
		limit = { has_building = building_tobacco_plantation  }
		remove_building = building_tobacco_plantation
	}
	if = {
		limit = { has_building = building_vineyard_plantation  }
		remove_building = building_vineyard_plantation
	}
	if = {
		limit = { has_building = building_logging_camp  }
		remove_building = building_logging_camp
	}
	if = {
		limit = { has_building = building_cotton_plantation  }
		remove_building = building_cotton_plantation
	}
	if = {
		limit = { has_building = building_maize_farm  }
		remove_building = building_maize_farm
	}
	
}

#Manifest Destiny tracking
usfp_manifest_more_destiny_effect = {
	custom_tooltip = {
		text = usfp_manifest_more_destiny
		if = {
			limit = { 
				var:manifest_destiny_var < 12
			}
			change_variable = {
				name = manifest_destiny_var
				add = 1
			}
		}

	}
	hidden_effect = {
		remove_modifier = usfp_manifest_destiny_modifier
		add_modifier = {
			name = usfp_manifest_destiny_modifier
			multiplier = root.var:manifest_destiny_var
		}
	}
}

usfp_manifest_less_destiny_effect = {
	custom_tooltip = {
		text = usfp_manifest_less_destiny
		if = {
			limit = {
				var:manifest_destiny_var > 0
			 }
			 change_variable = {
				name = manifest_destiny_var
				subtract = 1
			}
		}	
	}
	hidden_effect = {
		remove_modifier = usfp_manifest_destiny_modifier
		add_modifier = {
			name = usfp_manifest_destiny_modifier
			multiplier = root.var:manifest_destiny_var
		}
	}
}

usfp_mexican_north_purchase_effect = {
	s:STATE_CALIFORNIA = {
		add_claim = c:USA
		remove_claim = c:MEX
		if = {
			limit = { 
				any_scope_state = {
					owner = c:MEX
				}
			}
			region_state:MEX = {
				set_state_owner = c:USA
			}
		}
	}
	s:STATE_NEVADA = {
		add_claim = c:USA
		remove_claim = c:MEX
		if = {
			limit = { 
				any_scope_state = {
					owner = c:MEX
				}
			}
			region_state:MEX = {
				set_state_owner = c:USA
			}
		}
	}
	s:STATE_UTAH = {
		add_claim = c:USA
		remove_claim = c:MEX
		if = {
			limit = { 
				any_scope_state = {
					owner = c:MEX
				}
			}
			region_state:MEX = {
				set_state_owner = c:USA
			}
		}
	}
	s:STATE_ARIZONA = {
		add_claim = c:USA
		remove_claim = c:MEX
		if = {
			limit = { 
				any_scope_state = {
					owner = c:MEX
				}
			}
			region_state:MEX = {
				set_state_owner = c:USA
			}
		}
	}
	s:STATE_NEW_MEXICO = {
		add_claim = c:USA
		remove_claim = c:MEX
		if = {
			limit = { 
				any_scope_state = {
					owner = c:MEX
				}
			}
			region_state:MEX = {
				set_state_owner = c:USA
			}
		}
	}
	s:STATE_TEXAS = {
		add_claim = c:USA
		remove_claim = c:MEX
		if = {
			limit = {
				exists = c:MEX 
				any_scope_state = {
					owner = c:MEX
				}
			}
			region_state:MEX = {
				set_state_owner = c:USA
			}
		}
	}
	s:STATE_COLORADO = {
		add_claim = c:USA
		remove_claim = c:MEX
		if = {
			limit = { 
				any_scope_state = {
					owner = c:MEX
				}
			}
			region_state:MEX = {
				set_state_owner = c:USA
			}
		}
	}
}

usfp_planters_to_landowners_effect = {
	set_interest_group_name = ig_landowners
	remove_ideology = ideology_pro_slavery
	set_ig_trait = ig_trait:ig_trait_noble_privileges
	set_ig_trait = ig_trait:usfp_ig_trait_lawmen
	every_scope_character = {
		limit = {
			has_ideology = ideology:ideology_slaver
		}
		random_list = {
			75 = {
				set_ideology = ideology:ideology_moderate
			}
			25 = {
				set_ideology = ideology:ideology_ethno_nationalist
			}
		}
	}
}

usfp_calculate_bleeding_kansas_progress = {
	set_variable = { name = bleeding_kansas_var_next value = 0 }
	##Supports Free Kansas
	#Yankee population
	set_variable = { name = bleeding_kansas_yankee_percent value = 0 }
	scope:kansas_scope = {
		save_temporary_scope_value_as = {
		  name = temp_kansas_yankee_percent
		  value = usfp_bleeding_kansas_get_yankee_percent
		}
	}
	change_variable = {
	  name = bleeding_kansas_yankee_percent
	  add = scope:temp_kansas_yankee_percent
	}
	#Yankee radicals
	set_variable = { name = bleeding_kansas_yankee_radicals value = 0 }
	scope:kansas_scope = {
		save_temporary_scope_value_as = {
		  name = temp_kansas_yankee_radicals
		  value = usfp_bleeding_kansas_get_yankee_radicals
		}
	}
	change_variable = {
	  name = bleeding_kansas_yankee_radicals
	  add = scope:temp_kansas_yankee_radicals
	}

	#free Afro-americans
	set_variable = { name = bleeding_kansas_freedmen value = 0 }
	scope:kansas_scope = {
		save_temporary_scope_value_as = {
		  name = temp_kansas_freedmen
		  value = usfp_bleeding_kansas_get_freedmen
		}
	}
	change_variable = {
	  name = bleeding_kansas_freedmen
	  add = scope:temp_kansas_freedmen
	}

	##Supports Slave Kansas
	#Dixie population
	set_variable = { name = bleeding_kansas_dixie_percent value = 0 }
	scope:kansas_scope = {
		save_temporary_scope_value_as = {
		  name = temp_kansas_dixie_percent
		  value = usfp_bleeding_kansas_get_dixie_percent
		}
	}
	change_variable = {
	  name = bleeding_kansas_dixie_percent
	  subtract = scope:temp_kansas_dixie_percent
	}
	#Dixie radicals
	set_variable = { name = bleeding_kansas_dixie_radicals value = 0 }
	scope:kansas_scope = {
		save_temporary_scope_value_as = {
		  name = temp_kansas_dixie_radicals
		  value = usfp_bleeding_kansas_get_dixie_radicals
		}
	}
	change_variable = {
	  name = bleeding_kansas_dixie_radicals
	  subtract = scope:temp_kansas_dixie_radicals
	}
	#Dixie aristocrats
	set_variable = { name = bleeding_kansas_aristocrats value = 0 }
	scope:kansas_scope = {
		save_temporary_scope_value_as = {
		  name = temp_kansas_aristocrats
		  value = usfp_bleeding_kansas_get_dixie_aristocrats
		}
	}
	change_variable = {
	  name = bleeding_kansas_aristocrats
	  subtract = scope:temp_kansas_aristocrats
	}

	#Compilation
	change_variable = {name = bleeding_kansas_var_next add = var:bleeding_kansas_yankee_percent}
	change_variable = {name = bleeding_kansas_var_next add = var:bleeding_kansas_yankee_radicals}
	change_variable = {name = bleeding_kansas_var_next add = var:bleeding_kansas_freedmen}
	change_variable = {name = bleeding_kansas_var_next add = var:bleeding_kansas_dixie_percent}
	change_variable = {name = bleeding_kansas_var_next add = var:bleeding_kansas_dixie_radicals}
	change_variable = {name = bleeding_kansas_var_next add = var:bleeding_kansas_aristocrats}
}

usfp_cleanup_bleeding_kansas_variables = {
	remove_variable = bleeding_kansas_yankee_percent
	remove_variable = bleeding_kansas_yankee_radicals
	remove_variable = bleeding_kansas_freedmen
	remove_variable = bleeding_kansas_dixie_percent
	remove_variable = bleeding_kansas_dixie_radicals
	remove_variable = bleeding_kansas_aristocrats
	remove_variable = bleeding_kansas_var_next
	remove_variable = bleeding_kansas_var
	remove_variable = new_england_emigrant_aid_society
	remove_variable = had_border_ruffians
}