namespace = usfp_indian_postremoval

#Ghost Dance Begins
usfp_indian_postremoval.1 = {
	type = country_event
	placement = ROOT
	cooldown = {years = 100} #once
	event_image = {
		video = "europenorthamerica_native_american"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"
	
	title = usfp_indian_postremoval.1.t
	desc = usfp_indian_postremoval.1.d
	flavor = usfp_indian_postremoval.1.f
	dlc = dlc_usfp
	duration = 3

	#crack down
	option = {
		name = usfp_indian_postremoval.1.a
		default_option = yes
		every_scope_state = {
			limit = {
				OR = {
					usfp_american_west_zone = yes
					state_region = s:STATE_CALIFORNIA
				}
			}
			add_modifier = {
				name = usfp_ghost_dance_state_modifier
				months = 8
			}
		}
		add_radicals = {
			value = medium_radicals
			religion = rel:animist
		}
		hidden_effect = {
			trigger_event = {
				id = usfp_indian_postremoval.2
				months = 8
			}
		}
	}
	#leave them be
	option = {
		name = usfp_indian_postremoval.1.b
		every_scope_state = {
			limit = {
				OR = {
					usfp_american_west_zone = yes
					state_region = s:STATE_CALIFORNIA
				}
			}
			add_modifier = {
				name = usfp_ghost_dance_state_modifier
				years = 1
			}
		}
		ig:ig_armed_forces = {
			add_modifier = {
				name = usfp_accomodating_indians_modifier
				years = 4
			}
		}
		ig:ig_devout = {
			add_modifier = {
				name = usfp_accomodating_indians_modifier
				years = 4
			}
		}
		hidden_effect = {
			trigger_event = {
				id = usfp_indian_postremoval.3
				years = 1
			}
		}
	}
}
#Wounded Knee Massacre
usfp_indian_postremoval.2 = {
	type = country_event
	placement = ROOT
	cooldown = {years = 100} #once
	event_image = {
		video = "southamerica_war_civilians"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_skull.dds"
	
	title = usfp_indian_postremoval.2.t
	desc = usfp_indian_postremoval.2.d
	flavor = usfp_indian_postremoval.2.f
	dlc = dlc_usfp
	duration = 3
}
#Ghost Dance Fizzles
usfp_indian_postremoval.3 = {
	type = country_event
	placement = ROOT
	cooldown = {years = 100} #once
	event_image = {
		video = "europenorthamerica_native_american"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	title = usfp_indian_postremoval.3.t
	desc = usfp_indian_postremoval.3.d
	flavor = usfp_indian_postremoval.3.f
	dlc = dlc_usfp
	duration = 3

	#okay
	option = {
		
	}
}
#Sequoyah Constitution
usfp_indian_postremoval.4 = {
	type = country_event
	placement = scope:oklahoma_scope
	cooldown = {years = 100} #once
	event_image = {
		video = "unspecific_ruler_speaking_to_people"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_election.dds"
	
	title = usfp_indian_postremoval.4.t
	desc = usfp_indian_postremoval.4.d
	flavor = usfp_indian_postremoval.4.f
	dlc = dlc_usfp
	duration = 3

	trigger = {
		OR = {
			AND = {
				owns_entire_state_region = STATE_OKLAHOMA
				s:STATE_OKLAHOMA.region_state:USA = {
					is_incorporated = no
				} 
			}
			AND = {
				has_state_in_state_region = STATE_OKLAHOMA
				exists = c:SEQ
				c:SEQ = {
					is_subject_of = root
				}
			}
		}
		has_global_variable = american_frontier_closed
		s:STATE_OKLAHOMA = {
			NOT = {
				any_scope_state = {
					owner = {
						is_country_type = decentralized
					}
				}
			}
		}
	}

	immediate = {
		s:STATE_OKLAHOMA.region_state:USA = {
			save_scope_as = oklahoma_scope
		}
	}

	#yes
	option = {
		name = usfp_indian_postremoval.4.a
		if = {
			limit = { 
				exists = c:SEQ
				c:SEQ = {
					is_subject_of = root
				}
			}
			annex = c:SEQ
		}
		scope:oklahoma_scope = {
			add_loyalists_in_state = {
				value = medium_radicals
			}
			add_culture_standard_of_living_modifier = {
				culture = cu:usfp_american_indian
				multiplier = 1
			}
			usfp_radicalize_settlers_in_state = {
				RADICALS = medium_radicals
			}
			set_state_type = incorporated
		}
		ig:ig_rural_folk = {
			if = {
				limit = { 
					law_stance = {
						law = law_type:law_multicultural
						value < approve
					}
				}
				add_modifier = {
					name = usfp_accomodating_indians_modifier
					years = 4
				}
			}
		}
		ai_chance = {
			base = 0
		}
	}
	#no, annex the Indian Territory
	option = {
		name = usfp_indian_postremoval.4.b
		default_option = yes
		scope:oklahoma_scope = {
			usfp_loyalize_settlers_in_state = {
				LOYALISTS = small_radicals
			}
		}
		if = {
			limit = { 
				exists = c:SEQ
				c:SEQ = {
					is_subject_of = root
				}
			}
			annex = c:SEQ
		}
		ai_chance = {
			base = 100
		}
	}
	#no, and don't annex
	option = {
		name = usfp_indian_postremoval.4.c
		trigger = {
			exists = c:SEQ
			c:SEQ = {
				is_subject_of = root
			}
		}
		scope:oklahoma_scope = {
			usfp_radicalize_settlers_in_state = {
				RADICALS = small_radicals
			}
		}
		change_relations = {
			country = c:SEQ
			value = -20
		}
		ai_chance = {
			base = 0
		}
	}
}
#Oklahoma Land Runs
usfp_indian_postremoval.5 = {
	type = country_event
	placement = scope:oklahoma_scope
	cooldown = { years = 100 } #once
	event_image = {
		video = "europenorthamerica_native_american"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_map.dds"
	
	title = usfp_indian_postremoval.5.t
	desc = usfp_indian_postremoval.5.d
	flavor = usfp_indian_postremoval.5.f
	dlc = dlc_usfp
	duration = 3

	trigger = {
		has_state_in_state_region = STATE_OKLAHOMA
		s:STATE_OKLAHOMA = {
			any_scope_state = {
				owner = {
					is_country_type = decentralized
				}
			}
		}
		has_global_variable = american_frontier_closed
	}

	immediate = {
		s:STATE_OKLAHOMA.region_state:USA = {
			save_scope_as = oklahoma_scope
		}
	}

	#lets go!!!
	option = {
		name = usfp_indian_postremoval.5.a
		default_option = yes
		if = {
			limit = {
				exists = c:SEQ
				c:SEQ = {
					is_subject_of = root
				}
			 }
			 annex = c:SEQ
		}
		scope:oklahoma_scope = {
			add_modifier = {
				name = usfp_land_runs_modifier
				years = 4
			}
		}
	}
	#secure tribal lands
	option = {
		name = usfp_indian_postremoval.5.b
		scope:oklahoma_scope = {
			scope:oklahoma_scope = {
				add_modifier = {
					name = usfp_land_runs_modifier
					years = 4
					multiplier = 0.5
				}
			}
		}
		ig:ig_rural_folk = {
			if = {
				limit = { 
					law_stance = {
						law = law_type:law_multicultural
						value < approve
					}
				}
				add_modifier = {
					name = usfp_accomodating_indians_modifier
					years = 4
				}
			}
		}
	}

}