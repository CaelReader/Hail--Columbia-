namespace = usfp_indian_wars

#Red Cloud's War
usfp_indian_wars.1 = {
	type = country_event
	placement = c:LKT.capital
	cooldown = {years = 100} #once
	gui_window = event_window_1char_propaganda
	left_icon = scope:red_cloud_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_military.dds"
	
	title = usfp_indian_wars.1.t
	desc = usfp_indian_wars.1.d
	flavor = usfp_indian_wars.1.f
	dlc = dlc_usfp
	duration = 3

	trigger = {
		exists = c:LKT
		
	}

	immediate = {
		c:LKT = {
			create_character = {
				template = ecchi_lkt_red_cloud_character_template
				is_general = yes
			}
			random_scope_character = {
				limit = {
					has_template = ecchi_lkt_red_cloud_character_template
				}
				save_scope_as = red_cloud_scope
			}
		}
	}

	#okay
	option = {
		name = usfp_indian_wars.1.a
	}
}
#Red Cloud Peace Offer
usfp_indian_wars.2 = {
	type = country_event
	placement = ROOT
	cooldown = {years = 100} #once
	event_image = {
		video = "europenorthamerica_native_american"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_military.dds"
	
	title = usfp_indian_wars.2.t
	desc = usfp_indian_wars.2.d
	flavor = usfp_indian_wars.2.f
	dlc = dlc_usfp
	duration = 3
}
#Black Hills Gold
usfp_indian_wars.3 = {
	type = country_event
	placement = ROOT
	cooldown = {years = 100} #once
	event_image = {
		video = "europenorthamerica_gold_prospectors"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_map.dds"
	
	title = usfp_indian_wars.3.t
	desc = usfp_indian_wars.3.d
	flavor = usfp_indian_wars.3.f
	dlc = dlc_usfp
	duration = 3
}
#Little Bighorn
usfp_indian_wars.4 = {
	type = country_event
	placement = ROOT
	cooldown = {years = 300} #once
	event_image = {
		video = "europenorthamerica_before_the_battle"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_skull.dds"
	
	title = usfp_indian_wars.4.t
	desc = usfp_indian_wars.4.d
	flavor = usfp_indian_wars.4.f
	dlc = dlc_usfp
	duration = 3

	trigger = {
		any_military_formation = {
			is_army = yes
			any_scope_character = {
				has_role = general
				has_trait = reckless
			}
			current_hq = p:x924593.land_hq
		}
		exists = c:LKT
		has_war_with = c:LKT
	}

	immediate = {
		random_military_formation = {
			limit = {
				is_army = yes
				any_scope_character = {
					has_role = general
					has_trait = reckless
				}
				current_hq = p:x924593.land_hq
			}
			random_scope_general = {
				limit = {
					has_trait = reckless
				}
				save_scope_as = custer_scope
			}
		}
		c:LKT = {
			save_scope_as = sioux_scope
		}
	}

	#avenge!
	option = {
		name = usfp_indian_wars.4.a
		default_option = yes
		scope:custer_scope = {
			kill_character = yes
		}
		random_scope_war = {
			limit = {
				attacker_warleader = c:LKT
			}
			add_war_war_support = {
				target = root
				value = 15
			}
		}
	}
}
#Sioux-Crow War
usfp_indian_wars.5 = {
	type = country_event
	placement = ROOT
	cooldown = {years = 100} #once
	event_image = {
		video = "europenorthamerica_native_american"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_military.dds"
	
	title = usfp_indian_wars.5.t
	desc = usfp_indian_wars.5.d
	flavor = usfp_indian_wars.5.f
	dlc = dlc_usfp
	duration = 3

	trigger = {
		exists = c:LKT
		exists = c:ABS
		has_variable = horse_creek_treaty
	}

	#ally with the Crow
	option = {
		name = usfp_indian_wars.5.a
	}
	#let them fight
	option = {
		name = usfp_indian_wars.5.b
	}
}
#Settlers Massacre Natives
usfp_indian_wars.6 = {
	type = country_event
	placement = scope:settler_state_scope
	cooldown = {years = 5}
	event_image = {
		video = "southamerica_war_civilians"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_skull.dds"
	
	title = usfp_indian_wars.6.t
	desc = usfp_indian_wars.6.d
	flavor = usfp_indian_wars.6.f
	dlc = dlc_usfp
	duration = 3

	trigger = {
		
	}

	immediate = {
		random_scope_state = {
			limit = {
				state_region = {
					any_scope_state = {
						owner = {
							is_country_type = decentralized
						}
					}
				}
			}
			save_scope_as = settler_state_scope
			state_region = {
				random_scope_state = {
					limit = {
						owner = {
							is_country_type = decentralized
						}
					}
					save_scope_as = massacre_state_scope
				}
			}
		}
	}

	#okay
	option = {
		name = usfp_indian_wars.6.a
		default_option = yes
		scope:settler_state_scope = {
			state_region = {
				add_devastation = 5
			}
		}
		scope:massacre_state_scope = {
			owner = {
				change_tension = {
					country = root
					value = 10
				}
			}
		}
	}
	#stop them!
	option = {
		name = usfp_indian_wars.6.b
		scope:settler_state_scope = {
			state_region = {
				add_devastation = 5
			}
		}
		scope:settler_state_scope = {
			usfp_radicalize_settlers_in_state = {
				RADICALS = small_radicals
			}
		}
	}

}
#Modoc War - Peace Tent Ambush - Captain Jack's Stronghold
usfp_indian_wars.7 = {
	type = country_event
	placement = ROOT
	cooldown = {years = 100} #once
	event_image = {
		video = "ep1_ca_mountain_pass_military"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_skull.dds"
	
	title = usfp_indian_wars.7.t
	desc = usfp_indian_wars.7.d
	flavor = usfp_indian_wars.7.f
	dlc = dlc_usfp
	duration = 3
	trigger = {
		exists = c:usfp_MDC
		has_war_with = c:usfp_MDC
		any_military_formation = {
			is_army = yes
			any_scope_character = {
				has_role = general
			}
			current_hq = p:x33ee3b.land_hq
		}
	}

	immediate = {
		c:usfp_MDC = {
			save_scope_as = modoc_scope
			add_modifier = {
				name = usfp_lava_beds_modifier
				months = 6
			}
		}
		random_military_formation = {
			limit = {
				is_army = yes
				any_scope_character = {
					has_role = general
				}
				current_hq = p:x33ee3b.land_hq
			}
			random_scope_general = {
				save_scope_as = dead_general_scope
			}
		}
	}

	#oh dear
	option = {
		name = usfp_indian_wars.7.a
		scope:dead_general_scope = {
			kill_character = yes
		}
		show_as_tooltip = {
			c:usfp_MDC = {
				add_modifier = {
					name = usfp_lava_beds_modifier
					months = 6
				}
			}
		}
	}
}
#Flight of the Nez Perce
usfp_indian_wars.8 = {
	type = country_event
	placement = scope:montana_scope
	cooldown = {years = 300} #once
	event_image = {
		video = "europenorthamerica_native_american"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_military.dds"
	
	title = usfp_indian_wars.8.t
	desc = usfp_indian_wars.8.d
	flavor = usfp_indian_wars.8.f
	dlc = dlc_usfp
	duration = 3
	trigger = {
		NOT = {
			exists = c:NZP
		}
		owns_entire_state_region = STATE_IDAHO
		has_state_in_state_region = STATE_MONTANA
	}

	immediate = {
		cu:nez_perce = {
			save_scope_as = nez_perce_culture
		}
		s:STATE_MONTANA = {
			save_scope_as = montana_region_scope
			region_state:USA = {
				save_scope_as = montana_scope
			}
		}
		s:STATE_IDAHO.region_state:USA = {
			save_scope_as = idaho_scope
		}
		s:STATE_OKLAHOMA = {
			random_scope_state = {
				limit = {
					OR = {
						owner = c:USA
						owner = c:SEQ
					}
				}
				save_scope_as = indian_territory_scope
			}
		}
	}

	#ship them to Indian Territory
	option = {
		name = usfp_indian_wars.8.a
		default_option = yes
		custom_tooltip = {
			text = usfp_indian_wars.8.a.tt
			scope:indian_territory_scope = {
				create_pop = {
					culture = nez_perce
					size = 418
				}
			}
		}
		scope:idaho_scope = {
			usfp_loyalize_settlers_in_state = {
				LOYALISTS = small_radicals
			}
		}
	}
	#allow them to return to Idaho
	option = {
		name = usfp_indian_wars.8.b
		scope:idaho_scope = {
			add_loyalists_in_state = {
				culture = cu:nez_perce
				value = large_radicals
			}
			usfp_radicalize_settlers_in_state = {
				RADICALS = small_radicals
			}
		}
	}
}
#Navajo Long Walk
usfp_indian_wars.9 = {
	type = country_event
	placement = scope:new_mexico_scope
	cooldown = {years = 300} #once
	event_image = {
		video = "asia_poor_people_moving"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_skull.dds"
	
	title = usfp_indian_wars.9.t
	desc = usfp_indian_wars.9.d
	flavor = usfp_indian_wars.9.f
	dlc = dlc_usfp
	duration = 3
	trigger = {
		NOT = {
			exists = c:NVJ
		}
		owns_entire_state_region = STATE_NEW_MEXICO
	}

	immediate = {
		s:STATE_NEW_MEXICO.region_state:USA = {
			save_scope_as = new_mexico_scope
		}
		s:STATE_ARIZONA.region_state:USA ?= {
			save_scope_as = arizona_scope
		}
		s:STATE_UTAH.region_state:USA ?= {
			save_scope_as = utah_scope
		}
		cu:navajo = {
			save_scope_as = navajo_culture
		}
	}

	#welp
	option = {
		name = usfp_indian_wars.9.a
		default_option = yes
		scope:arizona_scope ?= {
			every_scope_pop = {
				limit = {
					culture = cu:navajo
				}
				move_pop = scope:new_mexico_scope
			}
		}
		scope:utah_scope = {
			every_scope_pop = {
				limit = {
					culture = cu:navajo
				}
				move_pop = scope:new_mexico_scope
			}
		}
		scope:new_mexico_scope = {
			kill_population_percent_in_state = {
				percent = 0.05
				culture = cu:navajo
			}
			usfp_loyalize_dixies_in_state = {
				LOYALISTS = small_radicals
			}
			add_culture_standard_of_living_modifier = {
				culture = cu:navajo
				multiplier = -4
			}
		}
	}
	#help
	option = {
		name = usfp_indian_wars.9.b
		scope:arizona_scope ?= {
			every_scope_pop = {
				limit = {
					culture = cu:navajo
				}
				move_pop = scope:new_mexico_scope
			}
		}
		scope:utah_scope = {
			every_scope_pop = {
				limit = {
					culture = cu:navajo
				}
				move_pop = scope:new_mexico_scope
			}
		}
		scope:new_mexico_scope = {
			kill_population_percent_in_state = {
				percent = 0.03
				culture = cu:navajo
			}
			add_culture_standard_of_living_modifier = {
				culture = cu:navajo
				multiplier = -2
			}
		}
	}
}
#Railway Bison Hunts
usfp_indian_wars.10 = {
	type = country_event
	placement = scope:railway_hunting_state
	cooldown = {years = 5}
	event_image = {
		video = "unspecific_trains"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	
	title = usfp_indian_wars.10.t
	desc = usfp_indian_wars.10.d
	flavor = usfp_indian_wars.10.f
	dlc = dlc_usfp
	duration = 3

	trigger = {
		any_scope_state = {
			region = sr:region_great_plains
			state_region = {
				any_scope_state = {
					owner = {
						is_country_type = decentralized
					}
					NOT = {
						has_modifier = bison_hunting_subsistence
					}
				}
			}
			any_scope_building = {
				is_building_type = building_railway
			}
		}
		NOT = {
			has_global_variable = buffalo_extinction
		}
	}

	immediate = {
		random_scope_state = {
			limit = {
				region = sr:region_great_plains
				state_region = {
					any_scope_state = {
						owner = {
							is_country_type = decentralized
						}
					}
				}
				any_scope_building = {
					is_building_type = building_railway
				}
			}
			save_scope_as = railway_hunting_state
			random_scope_building = {
				limit = {
					is_building_type = building_railway
				}
				save_scope_as = railway_scope
			}
		}
	}

	#excellent
	option = {
		name = usfp_indian_wars.10.a
		default_option = yes
		scope:railway_hunting_state = {
			state_region = {
				every_scope_state = {
					limit = {
						owner = {
							is_country_type = decentralized
						}
					}
					add_modifier = {
						name = bison_hunting_subsistence
						months = long_modifier_time
						multiplier = 2
					}
					owner = {
						change_tension = {
							country = root
							value = 15
						}
					}
				}
			}
		}
		change_variable = {
			name = bison_hunting
			add = 1
		}
	}
	#protect the buffalo
	option = {
		name = usfp_indian_wars.10.b
		trigger = {
			ruler = {
				usfp_manifest_destiny_pro_expansion_trigger = no
			}
		}
		highlighted_option = yes
		show_as_unavailable = {always = yes}
		scope:railway_hunting_state = {
			usfp_radicalize_settlers_in_state = {
				RADICALS = small_radicals
			}
			state_region = {
				every_scope_state = {
					limit = {
						owner = {
							is_country_type = decentralized
						}
					}
					owner = {
						change_tension = {
							country = root
							value = -10
						}
					}
				}
			}
		}
		set_variable = {
			name = buffalo_defender
			years = 5
		}
	}
}
#End of the Buffalo
usfp_indian_wars.11 = {
	type = country_event
	placement = scope:great_plains_state
	cooldown = {years = 300} #once
	event_image = {
		video = "europenorthamerica_native_american"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_skull.dds"
	
	title = usfp_indian_wars.11.t
	desc = usfp_indian_wars.11.d
	flavor = usfp_indian_wars.11.f
	dlc = dlc_usfp
	duration = 3

	immediate = {
		set_global_variable = buffalo_extinction
		random_scope_state = {
			limit = {
				region = sr:region_great_plains
			}
			save_scope_as = great_plains_state
		}
	}

	trigger = {
		NOT = {
			has_variable = buffalo_defender
		}
		has_variable = bison_hunting
		var:bison_hunting >= 3
		scope:journal_entry = {
			journal_entry_age > 7300 # days
		}
	}

	#welp
	option = {
		name = usfp_indian_wars.11.a
		default_option = yes
		every_scope_state = {
			limit = {
				region = sr:region_great_plains
				state_region = {
					any_scope_state = {
						owner = {
							is_country_type = decentralized
						}
					}
				}
			}
			state_region = {
				every_scope_state = {
					limit = {
						owner = {
							is_country_type = decentralized
						}
					}
					add_modifier = {
						name = bison_hunting_subsistence
						years = 20
						multiplier = 4
					}
					owner = {
						set_tension = {
							country = root
							value = 0
						}
					}
				}
			}
		}
	}
}
#Dawes Act as the end of the Indian Wars
usfp_indian_wars.12 = {
	type = country_event
	placement = scope:south_dakota_scope
	cooldown = {years = 300} #once
	event_image = {
		video = "europenorthamerica_native_american"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_map.dds"
	
	title = usfp_indian_wars.12.t
	desc = usfp_indian_wars.12.d
	flavor = usfp_indian_wars.12.f
	dlc = dlc_usfp
	duration = 3

	immediate = {
		cu:usfp_american_indian = {
			save_scope_as = american_indian_culture
		}
		s:STATE_SOUTH_DAKOTA.region_state:USA = {
			save_scope_as = south_dakota_scope
		}
		set_global_variable = american_frontier_closed
	}

	#okay
	option = {
		name = usfp_indian_wars.12.a
		default_option = yes
		remove_modifier = usfp_indian_agencies_modifier
		add_modifier = {
			name = usfp_indian_boarding_schools_modifier
			years = 100
		}
		usfp_enable_american_indian_culture = yes
		add_culture_standard_of_living_modifier = {
			culture = cu:usfp_american_indian
			multiplier = -2
		}
		s:STATE_OKLAHOMA = {
			add_claim = root
		}
	}
	#multiculturalism
	option = {
		name = usfp_indian_wars.12.b
		trigger = {
			has_law = law_type:law_multicultural
		}
		highlighted_option = yes
		remove_modifier = usfp_indian_agencies_modifier
		usfp_enable_american_indian_culture = yes
		s:STATE_OKLAHOMA = {
			add_claim = root
		}
	}
}
#Indian Wars startup event
usfp_indian_wars.13 = {
	type = country_event
	placement = scope:south_dakota_scope
	event_image = {
		video = "europenorthamerica_native_american"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_map.dds"
	
	title = usfp_indian_wars.13.t
	desc = usfp_indian_wars.13.d
	flavor = usfp_indian_wars.13.f
	dlc = dlc_usfp
	duration = 3

	immediate = {
		s:STATE_SOUTH_DAKOTA.region_state:USA = {
			save_scope_as = south_dakota_scope
		} 
	}

	#peace policy
	option = {
		name = usfp_indian_wars.13.a
		default_option = yes
		usfp_manifest_more_destiny_low_effect = yes
		add_modifier = {
			name = usfp_indian_agencies_modifier
			years = 20
		}
	}
	#war policy
	option = {
		name = usfp_indian_wars.13.b
		highlighted_option = yes
		show_as_unavailable = {always = yes}
		trigger = {
			ruler = {
				OR = {
					usfp_manifest_destiny_pro_expansion_trigger = yes
					has_trait = bigoted
				}
			}
		}
		every_scope_state = {
			limit = {
				region = sr:region_great_plains
				state_region = {
					any_scope_state = {
						owner = {
							is_country_type = decentralized
						}
					}
				}
			}
			state_region = {
				every_scope_state = {
					limit = {
						owner = {
							is_country_type = decentralized
						}
					}
					owner = {
						change_tension = {
							country = root
							value = 50
						}
					}
				}
			}
		}
		usfp_manifest_more_destiny_low_effect = yes
		usfp_loyalize_frontier_settlers = {
			LOYALISTS = small_radicals
		}
	}

}